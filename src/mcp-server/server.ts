/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { DiscordCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope, mcpScopes } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$addLobbyMember } from "./tools/addLobbyMember.js";
import { tool$answersGetVoters } from "./tools/answersGetVoters.js";
import { tool$applicationsCreateEntitlement } from "./tools/applicationsCreateEntitlement.js";
import { tool$applicationsDeleteUserRoleConnection } from "./tools/applicationsDeleteUserRoleConnection.js";
import { tool$applicationsEmojisCreate } from "./tools/applicationsEmojisCreate.js";
import { tool$applicationsEmojisDelete } from "./tools/applicationsEmojisDelete.js";
import { tool$applicationsGet } from "./tools/applicationsGet.js";
import { tool$applicationsGetActivityInstance } from "./tools/applicationsGetActivityInstance.js";
import { tool$applicationsGetEmoji } from "./tools/applicationsGetEmoji.js";
import { tool$applicationsGetMe } from "./tools/applicationsGetMe.js";
import { tool$applicationsGetRoleConnectionsMetadata } from "./tools/applicationsGetRoleConnectionsMetadata.js";
import { tool$applicationsListEmojis } from "./tools/applicationsListEmojis.js";
import { tool$applicationsUpdate } from "./tools/applicationsUpdate.js";
import { tool$applicationsUpdateEmoji } from "./tools/applicationsUpdateEmoji.js";
import { tool$applicationsUpdateRoleConnectionsMetadata } from "./tools/applicationsUpdateRoleConnectionsMetadata.js";
import { tool$applicationsUpdateSelf } from "./tools/applicationsUpdateSelf.js";
import { tool$applicationUserRoleConnectionsGet } from "./tools/applicationUserRoleConnectionsGet.js";
import { tool$applicationUserRoleConnectionUpdate } from "./tools/applicationUserRoleConnectionUpdate.js";
import { tool$autoModerationRulesCreate } from "./tools/autoModerationRulesCreate.js";
import { tool$autoModerationRulesDelete } from "./tools/autoModerationRulesDelete.js";
import { tool$autoModerationRulesGet } from "./tools/autoModerationRulesGet.js";
import { tool$channelPermissionsDeleteOverwrite } from "./tools/channelPermissionsDeleteOverwrite.js";
import { tool$channelsAddThreadMember } from "./tools/channelsAddThreadMember.js";
import { tool$channelsCreateInvite } from "./tools/channelsCreateInvite.js";
import { tool$channelsCreateWebhook } from "./tools/channelsCreateWebhook.js";
import { tool$channelsCrosspostMessage } from "./tools/channelsCrosspostMessage.js";
import { tool$channelsDelete } from "./tools/channelsDelete.js";
import { tool$channelsDeleteDmUser } from "./tools/channelsDeleteDmUser.js";
import { tool$channelsDeleteMessage } from "./tools/channelsDeleteMessage.js";
import { tool$channelsDeleteUserMessageReaction } from "./tools/channelsDeleteUserMessageReaction.js";
import { tool$channelsExpirePoll } from "./tools/channelsExpirePoll.js";
import { tool$channelsFollow } from "./tools/channelsFollow.js";
import { tool$channelsGet } from "./tools/channelsGet.js";
import { tool$channelsGetThreadMember } from "./tools/channelsGetThreadMember.js";
import { tool$channelsListInvites } from "./tools/channelsListInvites.js";
import { tool$channelsListMyPrivateArchivedThreads } from "./tools/channelsListMyPrivateArchivedThreads.js";
import { tool$channelsListPinnedMessages } from "./tools/channelsListPinnedMessages.js";
import { tool$channelsListPrivateArchivedThreads } from "./tools/channelsListPrivateArchivedThreads.js";
import { tool$channelsListThreadMembers } from "./tools/channelsListThreadMembers.js";
import { tool$channelsListWebhooks } from "./tools/channelsListWebhooks.js";
import { tool$channelsMessagesBulkDelete } from "./tools/channelsMessagesBulkDelete.js";
import { tool$channelsMessagesCreateForm } from "./tools/channelsMessagesCreateForm.js";
import { tool$channelsMessagesCreateJson } from "./tools/channelsMessagesCreateJson.js";
import { tool$channelsMessagesCreateMultipart } from "./tools/channelsMessagesCreateMultipart.js";
import { tool$channelsMessagesDeleteAllReactions } from "./tools/channelsMessagesDeleteAllReactions.js";
import { tool$channelsMessagesDeleteMyReaction } from "./tools/channelsMessagesDeleteMyReaction.js";
import { tool$channelsMessagesGet } from "./tools/channelsMessagesGet.js";
import { tool$channelsMessagesList } from "./tools/channelsMessagesList.js";
import { tool$channelsMessagesReactionsAdd } from "./tools/channelsMessagesReactionsAdd.js";
import { tool$channelsMessagesUpdateForm } from "./tools/channelsMessagesUpdateForm.js";
import { tool$channelsMessagesUpdateJson } from "./tools/channelsMessagesUpdateJson.js";
import { tool$channelsMessagesUpdateMultipart } from "./tools/channelsMessagesUpdateMultipart.js";
import { tool$channelsPermissionsSetOverwrite } from "./tools/channelsPermissionsSetOverwrite.js";
import { tool$channelsPinMessage } from "./tools/channelsPinMessage.js";
import { tool$channelsPinsUnpin } from "./tools/channelsPinsUnpin.js";
import { tool$channelsRecipientsAddGroupDmUser } from "./tools/channelsRecipientsAddGroupDmUser.js";
import { tool$channelsSendSoundboardSound } from "./tools/channelsSendSoundboardSound.js";
import { tool$channelsStartThreadFromMessage } from "./tools/channelsStartThreadFromMessage.js";
import { tool$channelsThreadMembersJoin } from "./tools/channelsThreadMembersJoin.js";
import { tool$channelsThreadMembersLeave } from "./tools/channelsThreadMembersLeave.js";
import { tool$channelsThreadsCreate } from "./tools/channelsThreadsCreate.js";
import { tool$channelsTriggerTyping } from "./tools/channelsTriggerTyping.js";
import { tool$channelsUpdate } from "./tools/channelsUpdate.js";
import { tool$createLobby } from "./tools/createLobby.js";
import { tool$deleteLobbyMember } from "./tools/deleteLobbyMember.js";
import { tool$editLobby } from "./tools/editLobby.js";
import { tool$gatewayGetBot } from "./tools/gatewayGetBot.js";
import { tool$getLobby } from "./tools/getLobby.js";
import { tool$guildBansBulkBan } from "./tools/guildBansBulkBan.js";
import { tool$guildBansGet } from "./tools/guildBansGet.js";
import { tool$guildBansList } from "./tools/guildBansList.js";
import { tool$guildEmojisGet } from "./tools/guildEmojisGet.js";
import { tool$guildIntegrationsDelete } from "./tools/guildIntegrationsDelete.js";
import { tool$guildMemberRolesAdd } from "./tools/guildMemberRolesAdd.js";
import { tool$guildMemberRolesDelete } from "./tools/guildMemberRolesDelete.js";
import { tool$guildMembersAdd } from "./tools/guildMembersAdd.js";
import { tool$guildOnboardingGet } from "./tools/guildOnboardingGet.js";
import { tool$guildOnboardingUpdate } from "./tools/guildOnboardingUpdate.js";
import { tool$guildRolesBulkUpdate } from "./tools/guildRolesBulkUpdate.js";
import { tool$guildsAutoModerationRulesUpdate } from "./tools/guildsAutoModerationRulesUpdate.js";
import { tool$guildsBanUser } from "./tools/guildsBanUser.js";
import { tool$guildsChannelsBulkUpdate } from "./tools/guildsChannelsBulkUpdate.js";
import { tool$guildsChannelsCreate } from "./tools/guildsChannelsCreate.js";
import { tool$guildScheduledEventsDelete } from "./tools/guildScheduledEventsDelete.js";
import { tool$guildsCreate } from "./tools/guildsCreate.js";
import { tool$guildsCreateEmoji } from "./tools/guildsCreateEmoji.js";
import { tool$guildsCreateRole } from "./tools/guildsCreateRole.js";
import { tool$guildsCreateSoundboardSound } from "./tools/guildsCreateSoundboardSound.js";
import { tool$guildsCreateSticker } from "./tools/guildsCreateSticker.js";
import { tool$guildsDelete } from "./tools/guildsDelete.js";
import { tool$guildsDeleteEmoji } from "./tools/guildsDeleteEmoji.js";
import { tool$guildsDeleteMember } from "./tools/guildsDeleteMember.js";
import { tool$guildsDeleteRole } from "./tools/guildsDeleteRole.js";
import { tool$guildsDeleteSticker } from "./tools/guildsDeleteSticker.js";
import { tool$guildsGet } from "./tools/guildsGet.js";
import { tool$guildsGetMyMember } from "./tools/guildsGetMyMember.js";
import { tool$guildsGetNewMemberWelcome } from "./tools/guildsGetNewMemberWelcome.js";
import { tool$guildsGetPreview } from "./tools/guildsGetPreview.js";
import { tool$guildsGetRole } from "./tools/guildsGetRole.js";
import { tool$guildsGetSoundboardSound } from "./tools/guildsGetSoundboardSound.js";
import { tool$guildsGetSticker } from "./tools/guildsGetSticker.js";
import { tool$guildsGetVanityUrl } from "./tools/guildsGetVanityUrl.js";
import { tool$guildsGetVoiceState } from "./tools/guildsGetVoiceState.js";
import { tool$guildsGetWelcomeScreen } from "./tools/guildsGetWelcomeScreen.js";
import { tool$guildsGetWidgetSettings } from "./tools/guildsGetWidgetSettings.js";
import { tool$guildsIntegrationsList } from "./tools/guildsIntegrationsList.js";
import { tool$guildsListAuditLogs } from "./tools/guildsListAuditLogs.js";
import { tool$guildsListAutoModerationRules } from "./tools/guildsListAutoModerationRules.js";
import { tool$guildsListEmojis } from "./tools/guildsListEmojis.js";
import { tool$guildsListInvites } from "./tools/guildsListInvites.js";
import { tool$guildsListMembers } from "./tools/guildsListMembers.js";
import { tool$guildsListRoles } from "./tools/guildsListRoles.js";
import { tool$guildsListTemplates } from "./tools/guildsListTemplates.js";
import { tool$guildsListWebhooks } from "./tools/guildsListWebhooks.js";
import { tool$guildsMembersGet } from "./tools/guildsMembersGet.js";
import { tool$guildsMembersUpdate } from "./tools/guildsMembersUpdate.js";
import { tool$guildsMembersUpdateMe } from "./tools/guildsMembersUpdateMe.js";
import { tool$guildsMfaSetLevel } from "./tools/guildsMfaSetLevel.js";
import { tool$guildSoundboardSoundsDelete } from "./tools/guildSoundboardSoundsDelete.js";
import { tool$guildsPreviewPrune } from "./tools/guildsPreviewPrune.js";
import { tool$guildsPrune } from "./tools/guildsPrune.js";
import { tool$guildsScheduledEventsGet } from "./tools/guildsScheduledEventsGet.js";
import { tool$guildsScheduledEventsList } from "./tools/guildsScheduledEventsList.js";
import { tool$guildsScheduledEventsUpdate } from "./tools/guildsScheduledEventsUpdate.js";
import { tool$guildsScheduledEventsUsersList } from "./tools/guildsScheduledEventsUsersList.js";
import { tool$guildsSearchMembers } from "./tools/guildsSearchMembers.js";
import { tool$guildsSoundboardSoundsList } from "./tools/guildsSoundboardSoundsList.js";
import { tool$guildsSoundboardSoundsUpdate } from "./tools/guildsSoundboardSoundsUpdate.js";
import { tool$guildsStickersUpdate } from "./tools/guildsStickersUpdate.js";
import { tool$guildsSyncTemplate } from "./tools/guildsSyncTemplate.js";
import { tool$guildsTemplatesCreate } from "./tools/guildsTemplatesCreate.js";
import { tool$guildsTemplatesDelete } from "./tools/guildsTemplatesDelete.js";
import { tool$guildStickersList } from "./tools/guildStickersList.js";
import { tool$guildsUnbanUser } from "./tools/guildsUnbanUser.js";
import { tool$guildsUpdate } from "./tools/guildsUpdate.js";
import { tool$guildsUpdateEmoji } from "./tools/guildsUpdateEmoji.js";
import { tool$guildsUpdateRole } from "./tools/guildsUpdateRole.js";
import { tool$guildsUpdateTemplate } from "./tools/guildsUpdateTemplate.js";
import { tool$guildsUpdateWelcomeScreen } from "./tools/guildsUpdateWelcomeScreen.js";
import { tool$guildsVoiceStatesGetSelf } from "./tools/guildsVoiceStatesGetSelf.js";
import { tool$guildsVoiceStatesUpdate } from "./tools/guildsVoiceStatesUpdate.js";
import { tool$guildsVoiceStatesUpdateSelf } from "./tools/guildsVoiceStatesUpdateSelf.js";
import { tool$guildTemplatesCreateFromCode } from "./tools/guildTemplatesCreateFromCode.js";
import { tool$guildThreadsGetActive } from "./tools/guildThreadsGetActive.js";
import { tool$guildVoiceRegionsList } from "./tools/guildVoiceRegionsList.js";
import { tool$guildWidgetSettingsUpdate } from "./tools/guildWidgetSettingsUpdate.js";
import { tool$invitesRevoke } from "./tools/invitesRevoke.js";
import { tool$messageReactionsDeleteAllByEmoji } from "./tools/messageReactionsDeleteAllByEmoji.js";
import { tool$messagesListReactionsByEmoji } from "./tools/messagesListReactionsByEmoji.js";
import { tool$oauth2GetMyApplication } from "./tools/oauth2GetMyApplication.js";
import { tool$scheduledEventsCreate } from "./tools/scheduledEventsCreate.js";
import { tool$soundboardGetDefaultSounds } from "./tools/soundboardGetDefaultSounds.js";
import { tool$stageInstancesCreate } from "./tools/stageInstancesCreate.js";
import { tool$stageInstancesDelete } from "./tools/stageInstancesDelete.js";
import { tool$stageInstancesGet } from "./tools/stageInstancesGet.js";
import { tool$stageInstancesUpdate } from "./tools/stageInstancesUpdate.js";
import { tool$stickerPacksGet } from "./tools/stickerPacksGet.js";
import { tool$stickersGet } from "./tools/stickersGet.js";
import { tool$threadMembersDelete } from "./tools/threadMembersDelete.js";
import { tool$threadSearch } from "./tools/threadSearch.js";
import { tool$threadsListPublicArchived } from "./tools/threadsListPublicArchived.js";
import { tool$usersCreateDm } from "./tools/usersCreateDm.js";
import { tool$usersGet } from "./tools/usersGet.js";
import { tool$usersGuildsLeave } from "./tools/usersGuildsLeave.js";
import { tool$usersUpdateMe } from "./tools/usersUpdateMe.js";
import { tool$voiceListRegions } from "./tools/voiceListRegions.js";
import { tool$webhooksDelete } from "./tools/webhooksDelete.js";
import { tool$webhooksGet } from "./tools/webhooksGet.js";
import { tool$webhooksUpdate } from "./tools/webhooksUpdate.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  botToken?: SDKOptions["botToken"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "Discord",
    version: "0.3.0",
  });

  const client = new DiscordCore({
    botToken: deps.botToken,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes ?? mcpScopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$createLobby);
  tool(tool$threadSearch);
  tool(tool$addLobbyMember);
  tool(tool$deleteLobbyMember);
  tool(tool$getLobby);
  tool(tool$editLobby);
  tool(tool$oauth2GetMyApplication);
  tool(tool$usersCreateDm);
  tool(tool$usersUpdateMe);
  tool(tool$usersGet);
  tool(tool$applicationsGetMe);
  tool(tool$applicationsUpdateSelf);
  tool(tool$applicationsDeleteUserRoleConnection);
  tool(tool$applicationsGetRoleConnectionsMetadata);
  tool(tool$applicationsUpdateRoleConnectionsMetadata);
  tool(tool$applicationsGetActivityInstance);
  tool(tool$applicationsCreateEntitlement);
  tool(tool$applicationsGetEmoji);
  tool(tool$applicationsUpdateEmoji);
  tool(tool$applicationsListEmojis);
  tool(tool$applicationsGet);
  tool(tool$applicationsUpdate);
  tool(tool$gatewayGetBot);
  tool(tool$voiceListRegions);
  tool(tool$soundboardGetDefaultSounds);
  tool(tool$stageInstancesCreate);
  tool(tool$stageInstancesGet);
  tool(tool$stageInstancesDelete);
  tool(tool$stageInstancesUpdate);
  tool(tool$stickerPacksGet);
  tool(tool$guildsCreate);
  tool(tool$guildsGetMyMember);
  tool(tool$guildsListAutoModerationRules);
  tool(tool$guildsSearchMembers);
  tool(tool$guildsGetNewMemberWelcome);
  tool(tool$guildsGetSoundboardSound);
  tool(tool$guildsCreateSoundboardSound);
  tool(tool$guildsGetWelcomeScreen);
  tool(tool$guildsUpdateWelcomeScreen);
  tool(tool$guildsGetVoiceState);
  tool(tool$guildsGetVanityUrl);
  tool(tool$guildsListAuditLogs);
  tool(tool$guildsSyncTemplate);
  tool(tool$guildsUpdateTemplate);
  tool(tool$guildsListTemplates);
  tool(tool$guildsGetSticker);
  tool(tool$guildsDeleteSticker);
  tool(tool$guildsCreateSticker);
  tool(tool$guildsListWebhooks);
  tool(tool$guildsDeleteMember);
  tool(tool$guildsListMembers);
  tool(tool$guildsGetPreview);
  tool(tool$guildsListInvites);
  tool(tool$guildsDeleteEmoji);
  tool(tool$guildsUpdateEmoji);
  tool(tool$guildsListEmojis);
  tool(tool$guildsCreateEmoji);
  tool(tool$guildsGetWidgetSettings);
  tool(tool$guildsGetRole);
  tool(tool$guildsDeleteRole);
  tool(tool$guildsUpdateRole);
  tool(tool$guildsListRoles);
  tool(tool$guildsCreateRole);
  tool(tool$guildsPreviewPrune);
  tool(tool$guildsPrune);
  tool(tool$guildsBanUser);
  tool(tool$guildsUnbanUser);
  tool(tool$guildsGet);
  tool(tool$guildsDelete);
  tool(tool$guildsUpdate);
  tool(tool$channelsListMyPrivateArchivedThreads);
  tool(tool$channelsListPrivateArchivedThreads);
  tool(tool$channelsDeleteUserMessageReaction);
  tool(tool$channelsCrosspostMessage);
  tool(tool$channelsStartThreadFromMessage);
  tool(tool$channelsExpirePoll);
  tool(tool$channelsSendSoundboardSound);
  tool(tool$channelsGetThreadMember);
  tool(tool$channelsAddThreadMember);
  tool(tool$channelsListThreadMembers);
  tool(tool$channelsDeleteDmUser);
  tool(tool$channelsFollow);
  tool(tool$channelsDeleteMessage);
  tool(tool$channelsListWebhooks);
  tool(tool$channelsCreateWebhook);
  tool(tool$channelsListInvites);
  tool(tool$channelsCreateInvite);
  tool(tool$channelsTriggerTyping);
  tool(tool$channelsPinMessage);
  tool(tool$channelsListPinnedMessages);
  tool(tool$channelsGet);
  tool(tool$channelsDelete);
  tool(tool$channelsUpdate);
  tool(tool$threadsListPublicArchived);
  tool(tool$applicationUserRoleConnectionsGet);
  tool(tool$applicationUserRoleConnectionUpdate);
  tool(tool$channelsThreadMembersJoin);
  tool(tool$messagesListReactionsByEmoji);
  tool(tool$messageReactionsDeleteAllByEmoji);
  tool(tool$answersGetVoters);
  tool(tool$webhooksGet);
  tool(tool$webhooksDelete);
  tool(tool$webhooksUpdate);
  tool(tool$autoModerationRulesGet);
  tool(tool$autoModerationRulesDelete);
  tool(tool$autoModerationRulesCreate);
  tool(tool$guildThreadsGetActive);
  tool(tool$guildsMembersUpdateMe);
  tool(tool$guildsMembersGet);
  tool(tool$guildsMembersUpdate);
  tool(tool$guildMemberRolesAdd);
  tool(tool$guildMemberRolesDelete);
  tool(tool$threadMembersDelete);
  tool(tool$channelPermissionsDeleteOverwrite);
  tool(tool$channelsRecipientsAddGroupDmUser);
  tool(tool$guildTemplatesCreateFromCode);
  tool(tool$guildSoundboardSoundsDelete);
  tool(tool$guildsSoundboardSoundsList);
  tool(tool$guildScheduledEventsDelete);
  tool(tool$scheduledEventsCreate);
  tool(tool$guildIntegrationsDelete);
  tool(tool$guildOnboardingGet);
  tool(tool$guildOnboardingUpdate);
  tool(tool$guildBansBulkBan);
  tool(tool$guildBansGet);
  tool(tool$guildBansList);
  tool(tool$guildStickersList);
  tool(tool$guildsChannelsCreate);
  tool(tool$guildMembersAdd);
  tool(tool$guildVoiceRegionsList);
  tool(tool$guildEmojisGet);
  tool(tool$guildWidgetSettingsUpdate);
  tool(tool$guildRolesBulkUpdate);
  tool(tool$stickersGet);
  tool(tool$invitesRevoke);
  tool(tool$usersGuildsLeave);
  tool(tool$applicationsEmojisDelete);
  tool(tool$applicationsEmojisCreate);
  tool(tool$guildsScheduledEventsGet);
  tool(tool$guildsScheduledEventsList);
  tool(tool$guildsScheduledEventsUpdate);
  tool(tool$guildsVoiceStatesGetSelf);
  tool(tool$guildsVoiceStatesUpdateSelf);
  tool(tool$guildsVoiceStatesUpdate);
  tool(tool$guildsSoundboardSoundsUpdate);
  tool(tool$guildsIntegrationsList);
  tool(tool$guildsTemplatesDelete);
  tool(tool$guildsTemplatesCreate);
  tool(tool$guildsStickersUpdate);
  tool(tool$guildsChannelsBulkUpdate);
  tool(tool$guildsMfaSetLevel);
  tool(tool$channelsMessagesDeleteMyReaction);
  tool(tool$channelsMessagesBulkDelete);
  tool(tool$channelsMessagesDeleteAllReactions);
  tool(tool$channelsMessagesGet);
  tool(tool$channelsMessagesUpdateJson);
  tool(tool$channelsMessagesUpdateForm);
  tool(tool$channelsMessagesUpdateMultipart);
  tool(tool$channelsMessagesList);
  tool(tool$channelsMessagesCreateJson);
  tool(tool$channelsMessagesCreateForm);
  tool(tool$channelsMessagesCreateMultipart);
  tool(tool$channelsThreadMembersLeave);
  tool(tool$channelsPermissionsSetOverwrite);
  tool(tool$channelsThreadsCreate);
  tool(tool$channelsPinsUnpin);
  tool(tool$guildsScheduledEventsUsersList);
  tool(tool$guildsAutoModerationRulesUpdate);
  tool(tool$channelsMessagesReactionsAdd);

  return server;
}
