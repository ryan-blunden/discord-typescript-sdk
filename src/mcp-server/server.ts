/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { DiscordCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { Register } from "./extensions.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { registerMCPExtensions } from "./server.extensions.js";
import { createRegisterTool } from "./tools.js";
import { tool$applicationRoleConnectionMetadataDeleteUserConnection } from "./tools/applicationRoleConnectionMetadataDeleteUserConnection.js";
import { tool$applicationRoleConnectionMetadataList } from "./tools/applicationRoleConnectionMetadataList.js";
import { tool$applicationRoleConnectionMetadataUpdate } from "./tools/applicationRoleConnectionMetadataUpdate.js";
import { tool$applicationsGet } from "./tools/applicationsGet.js";
import { tool$applicationsGetActivityInstance } from "./tools/applicationsGetActivityInstance.js";
import { tool$applicationsGetBotGateway } from "./tools/applicationsGetBotGateway.js";
import { tool$applicationsGetMe } from "./tools/applicationsGetMe.js";
import { tool$applicationsGetOAuth2Me } from "./tools/applicationsGetOAuth2Me.js";
import { tool$applicationsUpdate } from "./tools/applicationsUpdate.js";
import { tool$applicationsUpdateSelf } from "./tools/applicationsUpdateSelf.js";
import { tool$auditLogsList } from "./tools/auditLogsList.js";
import { tool$autoModerationCreateRule } from "./tools/autoModerationCreateRule.js";
import { tool$autoModerationDeleteRule } from "./tools/autoModerationDeleteRule.js";
import { tool$autoModerationGetRule } from "./tools/autoModerationGetRule.js";
import { tool$autoModerationListRules } from "./tools/autoModerationListRules.js";
import { tool$autoModerationUpdateRule } from "./tools/autoModerationUpdateRule.js";
import { tool$channelsAddGroupDMRecipient } from "./tools/channelsAddGroupDMRecipient.js";
import { tool$channelsAddThreadMember } from "./tools/channelsAddThreadMember.js";
import { tool$channelsCreateInvite } from "./tools/channelsCreateInvite.js";
import { tool$channelsDelete } from "./tools/channelsDelete.js";
import { tool$channelsDeletePermissionOverwrite } from "./tools/channelsDeletePermissionOverwrite.js";
import { tool$channelsFollow } from "./tools/channelsFollow.js";
import { tool$channelsGet } from "./tools/channelsGet.js";
import { tool$channelsGetThreadMember } from "./tools/channelsGetThreadMember.js";
import { tool$channelsJoinThread } from "./tools/channelsJoinThread.js";
import { tool$channelsLeaveThread } from "./tools/channelsLeaveThread.js";
import { tool$channelsListInvites } from "./tools/channelsListInvites.js";
import { tool$channelsListJoinedPrivateArchivedThreads } from "./tools/channelsListJoinedPrivateArchivedThreads.js";
import { tool$channelsListPinnedMessages } from "./tools/channelsListPinnedMessages.js";
import { tool$channelsListPrivateArchivedThreads } from "./tools/channelsListPrivateArchivedThreads.js";
import { tool$channelsListPublicArchivedThreads } from "./tools/channelsListPublicArchivedThreads.js";
import { tool$channelsListThreadMembers } from "./tools/channelsListThreadMembers.js";
import { tool$channelsPinMessage } from "./tools/channelsPinMessage.js";
import { tool$channelsRemoveGroupDMRecipient } from "./tools/channelsRemoveGroupDMRecipient.js";
import { tool$channelsRemoveThreadMember } from "./tools/channelsRemoveThreadMember.js";
import { tool$channelsSearchThreads } from "./tools/channelsSearchThreads.js";
import { tool$channelsSetPermissionOverwrite } from "./tools/channelsSetPermissionOverwrite.js";
import { tool$channelsStartThread } from "./tools/channelsStartThread.js";
import { tool$channelsStartThreadFromMessage } from "./tools/channelsStartThreadFromMessage.js";
import { tool$channelsTriggerTypingIndicator } from "./tools/channelsTriggerTypingIndicator.js";
import { tool$channelsUnpinMessage } from "./tools/channelsUnpinMessage.js";
import { tool$channelsUpdate } from "./tools/channelsUpdate.js";
import { tool$emojiCreateApplicationEmoji } from "./tools/emojiCreateApplicationEmoji.js";
import { tool$emojiCreateGuildEmoji } from "./tools/emojiCreateGuildEmoji.js";
import { tool$emojiDeleteApplicationEmoji } from "./tools/emojiDeleteApplicationEmoji.js";
import { tool$emojiDeleteGuildEmoji } from "./tools/emojiDeleteGuildEmoji.js";
import { tool$emojiGetApplicationEmoji } from "./tools/emojiGetApplicationEmoji.js";
import { tool$emojiGetGuildEmoji } from "./tools/emojiGetGuildEmoji.js";
import { tool$emojiListApplicationEmojis } from "./tools/emojiListApplicationEmojis.js";
import { tool$emojiListGuildEmojis } from "./tools/emojiListGuildEmojis.js";
import { tool$emojiUpdateApplicationEmoji } from "./tools/emojiUpdateApplicationEmoji.js";
import { tool$emojiUpdateGuildEmoji } from "./tools/emojiUpdateGuildEmoji.js";
import { tool$entitlementsCreateTest } from "./tools/entitlementsCreateTest.js";
import { tool$guildsAddMember } from "./tools/guildsAddMember.js";
import { tool$guildsAddMemberRole } from "./tools/guildsAddMemberRole.js";
import { tool$guildsBulkBan } from "./tools/guildsBulkBan.js";
import { tool$guildScheduledEventsCreate } from "./tools/guildScheduledEventsCreate.js";
import { tool$guildScheduledEventsDelete } from "./tools/guildScheduledEventsDelete.js";
import { tool$guildScheduledEventsGet } from "./tools/guildScheduledEventsGet.js";
import { tool$guildScheduledEventsGetUsers } from "./tools/guildScheduledEventsGetUsers.js";
import { tool$guildScheduledEventsList } from "./tools/guildScheduledEventsList.js";
import { tool$guildScheduledEventsUpdate } from "./tools/guildScheduledEventsUpdate.js";
import { tool$guildsCreate } from "./tools/guildsCreate.js";
import { tool$guildsCreateBan } from "./tools/guildsCreateBan.js";
import { tool$guildsCreateChannel } from "./tools/guildsCreateChannel.js";
import { tool$guildsCreateRole } from "./tools/guildsCreateRole.js";
import { tool$guildsDelete } from "./tools/guildsDelete.js";
import { tool$guildsDeleteIntegration } from "./tools/guildsDeleteIntegration.js";
import { tool$guildsDeleteRole } from "./tools/guildsDeleteRole.js";
import { tool$guildsGet } from "./tools/guildsGet.js";
import { tool$guildsGetBan } from "./tools/guildsGetBan.js";
import { tool$guildsGetMember } from "./tools/guildsGetMember.js";
import { tool$guildsGetOnboarding } from "./tools/guildsGetOnboarding.js";
import { tool$guildsGetPreview } from "./tools/guildsGetPreview.js";
import { tool$guildsGetRole } from "./tools/guildsGetRole.js";
import { tool$guildsGetVanityUrl } from "./tools/guildsGetVanityUrl.js";
import { tool$guildsGetWelcomeScreen } from "./tools/guildsGetWelcomeScreen.js";
import { tool$guildsGetWidgetSettings } from "./tools/guildsGetWidgetSettings.js";
import { tool$guildsListActiveThreads } from "./tools/guildsListActiveThreads.js";
import { tool$guildsListBans } from "./tools/guildsListBans.js";
import { tool$guildsListIntegrations } from "./tools/guildsListIntegrations.js";
import { tool$guildsListInvites } from "./tools/guildsListInvites.js";
import { tool$guildsListMembers } from "./tools/guildsListMembers.js";
import { tool$guildsListRoles } from "./tools/guildsListRoles.js";
import { tool$guildsListVoiceRegions } from "./tools/guildsListVoiceRegions.js";
import { tool$guildsPreviewPrune } from "./tools/guildsPreviewPrune.js";
import { tool$guildsPrune } from "./tools/guildsPrune.js";
import { tool$guildsRemoveBan } from "./tools/guildsRemoveBan.js";
import { tool$guildsRemoveMember } from "./tools/guildsRemoveMember.js";
import { tool$guildsRemoveMemberRole } from "./tools/guildsRemoveMemberRole.js";
import { tool$guildsSearchMembers } from "./tools/guildsSearchMembers.js";
import { tool$guildsSetMfaLevel } from "./tools/guildsSetMfaLevel.js";
import { tool$guildsUpdate } from "./tools/guildsUpdate.js";
import { tool$guildsUpdateChannelPositions } from "./tools/guildsUpdateChannelPositions.js";
import { tool$guildsUpdateCurrentMember } from "./tools/guildsUpdateCurrentMember.js";
import { tool$guildsUpdateMember } from "./tools/guildsUpdateMember.js";
import { tool$guildsUpdateOnboarding } from "./tools/guildsUpdateOnboarding.js";
import { tool$guildsUpdateRole } from "./tools/guildsUpdateRole.js";
import { tool$guildsUpdateRolePositions } from "./tools/guildsUpdateRolePositions.js";
import { tool$guildsUpdateWelcomeScreen } from "./tools/guildsUpdateWelcomeScreen.js";
import { tool$guildsUpdateWidgetSettings } from "./tools/guildsUpdateWidgetSettings.js";
import { tool$guildTemplatesCreate } from "./tools/guildTemplatesCreate.js";
import { tool$guildTemplatesCreateGuild } from "./tools/guildTemplatesCreateGuild.js";
import { tool$guildTemplatesDelete } from "./tools/guildTemplatesDelete.js";
import { tool$guildTemplatesGetNewMemberWelcome } from "./tools/guildTemplatesGetNewMemberWelcome.js";
import { tool$guildTemplatesList } from "./tools/guildTemplatesList.js";
import { tool$guildTemplatesSync } from "./tools/guildTemplatesSync.js";
import { tool$guildTemplatesUpdate } from "./tools/guildTemplatesUpdate.js";
import { tool$invitesDelete } from "./tools/invitesDelete.js";
import { tool$lobbiesAddMember } from "./tools/lobbiesAddMember.js";
import { tool$lobbiesCreate } from "./tools/lobbiesCreate.js";
import { tool$lobbiesGet } from "./tools/lobbiesGet.js";
import { tool$lobbiesRemoveMember } from "./tools/lobbiesRemoveMember.js";
import { tool$lobbiesUpdate } from "./tools/lobbiesUpdate.js";
import { tool$messagesBulkDelete } from "./tools/messagesBulkDelete.js";
import { tool$messagesCreateForm } from "./tools/messagesCreateForm.js";
import { tool$messagesCreateJson } from "./tools/messagesCreateJson.js";
import { tool$messagesCreateMultipart } from "./tools/messagesCreateMultipart.js";
import { tool$messagesCreateReaction } from "./tools/messagesCreateReaction.js";
import { tool$messagesCrosspost } from "./tools/messagesCrosspost.js";
import { tool$messagesDelete } from "./tools/messagesDelete.js";
import { tool$messagesDeleteAllReactions } from "./tools/messagesDeleteAllReactions.js";
import { tool$messagesDeleteAllReactionsForEmoji } from "./tools/messagesDeleteAllReactionsForEmoji.js";
import { tool$messagesDeleteOwnReaction } from "./tools/messagesDeleteOwnReaction.js";
import { tool$messagesDeleteUserReaction } from "./tools/messagesDeleteUserReaction.js";
import { tool$messagesGet } from "./tools/messagesGet.js";
import { tool$messagesList } from "./tools/messagesList.js";
import { tool$messagesListReactionsByEmoji } from "./tools/messagesListReactionsByEmoji.js";
import { tool$messagesUpdateForm } from "./tools/messagesUpdateForm.js";
import { tool$messagesUpdateJson } from "./tools/messagesUpdateJson.js";
import { tool$messagesUpdateMultipart } from "./tools/messagesUpdateMultipart.js";
import { tool$pollsExpire } from "./tools/pollsExpire.js";
import { tool$pollsGetAnswerVoters } from "./tools/pollsGetAnswerVoters.js";
import { tool$soundboardsCreateGuildSoundboardSound } from "./tools/soundboardsCreateGuildSoundboardSound.js";
import { tool$soundboardsDeleteGuildSoundboardSound } from "./tools/soundboardsDeleteGuildSoundboardSound.js";
import { tool$soundboardsGetGuildSoundboardSound } from "./tools/soundboardsGetGuildSoundboardSound.js";
import { tool$soundboardsGetSoundboardDefaultSounds } from "./tools/soundboardsGetSoundboardDefaultSounds.js";
import { tool$soundboardsListGuildSoundboardSounds } from "./tools/soundboardsListGuildSoundboardSounds.js";
import { tool$soundboardsSendSoundboardSound } from "./tools/soundboardsSendSoundboardSound.js";
import { tool$soundboardsUpdateGuildSoundboardSound } from "./tools/soundboardsUpdateGuildSoundboardSound.js";
import { tool$stageInstancesCreate } from "./tools/stageInstancesCreate.js";
import { tool$stageInstancesDelete } from "./tools/stageInstancesDelete.js";
import { tool$stageInstancesGet } from "./tools/stageInstancesGet.js";
import { tool$stageInstancesUpdate } from "./tools/stageInstancesUpdate.js";
import { tool$stickersCreateGuildSticker } from "./tools/stickersCreateGuildSticker.js";
import { tool$stickersDeleteGuildSticker } from "./tools/stickersDeleteGuildSticker.js";
import { tool$stickersGet } from "./tools/stickersGet.js";
import { tool$stickersGetGuildSticker } from "./tools/stickersGetGuildSticker.js";
import { tool$stickersGetPack } from "./tools/stickersGetPack.js";
import { tool$stickersListGuildStickers } from "./tools/stickersListGuildStickers.js";
import { tool$stickersUpdateGuildSticker } from "./tools/stickersUpdateGuildSticker.js";
import { tool$usersCreateDM } from "./tools/usersCreateDM.js";
import { tool$usersGet } from "./tools/usersGet.js";
import { tool$usersGetApplicationRoleConnection } from "./tools/usersGetApplicationRoleConnection.js";
import { tool$usersGetGuildMember } from "./tools/usersGetGuildMember.js";
import { tool$usersLeaveGuild } from "./tools/usersLeaveGuild.js";
import { tool$usersUpdateApplicationRoleConnection } from "./tools/usersUpdateApplicationRoleConnection.js";
import { tool$usersUpdateCurrent } from "./tools/usersUpdateCurrent.js";
import { tool$voiceGetCurrentUserState } from "./tools/voiceGetCurrentUserState.js";
import { tool$voiceGetUserState } from "./tools/voiceGetUserState.js";
import { tool$voiceListRegions } from "./tools/voiceListRegions.js";
import { tool$voiceUpdateCurrentUserState } from "./tools/voiceUpdateCurrentUserState.js";
import { tool$voiceUpdateUserState } from "./tools/voiceUpdateUserState.js";
import { tool$webhooksCreate } from "./tools/webhooksCreate.js";
import { tool$webhooksDelete } from "./tools/webhooksDelete.js";
import { tool$webhooksGet } from "./tools/webhooksGet.js";
import { tool$webhooksListForChannel } from "./tools/webhooksListForChannel.js";
import { tool$webhooksListForGuild } from "./tools/webhooksListForGuild.js";
import { tool$webhooksUpdate } from "./tools/webhooksUpdate.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  botToken?: SDKOptions["botToken"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "Discord",
    version: "0.4.0",
  });

  const client = new DiscordCore({
    botToken: deps.botToken,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$applicationsGetMe);
  tool(tool$applicationsUpdateSelf);
  tool(tool$applicationsGet);
  tool(tool$applicationsUpdate);
  tool(tool$applicationsGetActivityInstance);
  tool(tool$applicationsGetBotGateway);
  tool(tool$applicationsGetOAuth2Me);
  tool(tool$emojiListApplicationEmojis);
  tool(tool$emojiCreateApplicationEmoji);
  tool(tool$emojiGetApplicationEmoji);
  tool(tool$emojiDeleteApplicationEmoji);
  tool(tool$emojiUpdateApplicationEmoji);
  tool(tool$emojiListGuildEmojis);
  tool(tool$emojiCreateGuildEmoji);
  tool(tool$emojiGetGuildEmoji);
  tool(tool$emojiDeleteGuildEmoji);
  tool(tool$emojiUpdateGuildEmoji);
  tool(tool$entitlementsCreateTest);
  tool(tool$applicationRoleConnectionMetadataList);
  tool(tool$applicationRoleConnectionMetadataUpdate);
  tool(tool$applicationRoleConnectionMetadataDeleteUserConnection);
  tool(tool$channelsGet);
  tool(tool$channelsDelete);
  tool(tool$channelsUpdate);
  tool(tool$channelsFollow);
  tool(tool$channelsListInvites);
  tool(tool$channelsCreateInvite);
  tool(tool$channelsStartThreadFromMessage);
  tool(tool$channelsSetPermissionOverwrite);
  tool(tool$channelsDeletePermissionOverwrite);
  tool(tool$channelsListPinnedMessages);
  tool(tool$channelsPinMessage);
  tool(tool$channelsUnpinMessage);
  tool(tool$channelsAddGroupDMRecipient);
  tool(tool$channelsRemoveGroupDMRecipient);
  tool(tool$channelsListThreadMembers);
  tool(tool$channelsJoinThread);
  tool(tool$channelsLeaveThread);
  tool(tool$channelsGetThreadMember);
  tool(tool$channelsAddThreadMember);
  tool(tool$channelsRemoveThreadMember);
  tool(tool$channelsStartThread);
  tool(tool$channelsListPrivateArchivedThreads);
  tool(tool$channelsListPublicArchivedThreads);
  tool(tool$channelsSearchThreads);
  tool(tool$channelsTriggerTypingIndicator);
  tool(tool$channelsListJoinedPrivateArchivedThreads);
  tool(tool$messagesList);
  tool(tool$messagesCreateJson);
  tool(tool$messagesCreateForm);
  tool(tool$messagesCreateMultipart);
  tool(tool$messagesBulkDelete);
  tool(tool$messagesGet);
  tool(tool$messagesDelete);
  tool(tool$messagesUpdateJson);
  tool(tool$messagesUpdateForm);
  tool(tool$messagesUpdateMultipart);
  tool(tool$messagesCrosspost);
  tool(tool$messagesDeleteAllReactions);
  tool(tool$messagesListReactionsByEmoji);
  tool(tool$messagesDeleteAllReactionsForEmoji);
  tool(tool$messagesCreateReaction);
  tool(tool$messagesDeleteOwnReaction);
  tool(tool$messagesDeleteUserReaction);
  tool(tool$pollsGetAnswerVoters);
  tool(tool$pollsExpire);
  tool(tool$soundboardsSendSoundboardSound);
  tool(tool$soundboardsListGuildSoundboardSounds);
  tool(tool$soundboardsCreateGuildSoundboardSound);
  tool(tool$soundboardsGetGuildSoundboardSound);
  tool(tool$soundboardsDeleteGuildSoundboardSound);
  tool(tool$soundboardsUpdateGuildSoundboardSound);
  tool(tool$soundboardsGetSoundboardDefaultSounds);
  tool(tool$webhooksListForChannel);
  tool(tool$webhooksCreate);
  tool(tool$webhooksListForGuild);
  tool(tool$webhooksGet);
  tool(tool$webhooksDelete);
  tool(tool$webhooksUpdate);
  tool(tool$guildsCreate);
  tool(tool$guildsGet);
  tool(tool$guildsDelete);
  tool(tool$guildsUpdate);
  tool(tool$guildsListBans);
  tool(tool$guildsGetBan);
  tool(tool$guildsCreateBan);
  tool(tool$guildsRemoveBan);
  tool(tool$guildsBulkBan);
  tool(tool$guildsCreateChannel);
  tool(tool$guildsUpdateChannelPositions);
  tool(tool$guildsListIntegrations);
  tool(tool$guildsDeleteIntegration);
  tool(tool$guildsListInvites);
  tool(tool$guildsListMembers);
  tool(tool$guildsUpdateCurrentMember);
  tool(tool$guildsSearchMembers);
  tool(tool$guildsGetMember);
  tool(tool$guildsAddMember);
  tool(tool$guildsRemoveMember);
  tool(tool$guildsUpdateMember);
  tool(tool$guildsAddMemberRole);
  tool(tool$guildsRemoveMemberRole);
  tool(tool$guildsSetMfaLevel);
  tool(tool$guildsGetOnboarding);
  tool(tool$guildsUpdateOnboarding);
  tool(tool$guildsGetPreview);
  tool(tool$guildsPreviewPrune);
  tool(tool$guildsPrune);
  tool(tool$guildsListVoiceRegions);
  tool(tool$guildsListRoles);
  tool(tool$guildsCreateRole);
  tool(tool$guildsUpdateRolePositions);
  tool(tool$guildsGetRole);
  tool(tool$guildsDeleteRole);
  tool(tool$guildsUpdateRole);
  tool(tool$guildsListActiveThreads);
  tool(tool$guildsGetVanityUrl);
  tool(tool$guildsGetWelcomeScreen);
  tool(tool$guildsUpdateWelcomeScreen);
  tool(tool$guildsGetWidgetSettings);
  tool(tool$guildsUpdateWidgetSettings);
  tool(tool$guildTemplatesCreateGuild);
  tool(tool$guildTemplatesGetNewMemberWelcome);
  tool(tool$guildTemplatesList);
  tool(tool$guildTemplatesCreate);
  tool(tool$guildTemplatesSync);
  tool(tool$guildTemplatesDelete);
  tool(tool$guildTemplatesUpdate);
  tool(tool$auditLogsList);
  tool(tool$autoModerationListRules);
  tool(tool$autoModerationCreateRule);
  tool(tool$autoModerationGetRule);
  tool(tool$autoModerationDeleteRule);
  tool(tool$autoModerationUpdateRule);
  tool(tool$guildScheduledEventsList);
  tool(tool$guildScheduledEventsCreate);
  tool(tool$guildScheduledEventsGet);
  tool(tool$guildScheduledEventsDelete);
  tool(tool$guildScheduledEventsUpdate);
  tool(tool$guildScheduledEventsGetUsers);
  tool(tool$stickersListGuildStickers);
  tool(tool$stickersCreateGuildSticker);
  tool(tool$stickersGetGuildSticker);
  tool(tool$stickersDeleteGuildSticker);
  tool(tool$stickersUpdateGuildSticker);
  tool(tool$stickersGetPack);
  tool(tool$stickersGet);
  tool(tool$voiceGetCurrentUserState);
  tool(tool$voiceUpdateCurrentUserState);
  tool(tool$voiceGetUserState);
  tool(tool$voiceUpdateUserState);
  tool(tool$voiceListRegions);
  tool(tool$invitesDelete);
  tool(tool$lobbiesCreate);
  tool(tool$lobbiesGet);
  tool(tool$lobbiesUpdate);
  tool(tool$lobbiesAddMember);
  tool(tool$lobbiesRemoveMember);
  tool(tool$stageInstancesCreate);
  tool(tool$stageInstancesGet);
  tool(tool$stageInstancesDelete);
  tool(tool$stageInstancesUpdate);
  tool(tool$usersUpdateCurrent);
  tool(tool$usersGetApplicationRoleConnection);
  tool(tool$usersUpdateApplicationRoleConnection);
  tool(tool$usersCreateDM);
  tool(tool$usersLeaveGuild);
  tool(tool$usersGetGuildMember);
  tool(tool$usersGet);

  registerMCPExtensions(register satisfies Register);

  return server;
}
